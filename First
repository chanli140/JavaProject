import java.io.*;
import java.util.Scanner;

public class mainClass {

	public static void main(String[] args) throws Exception {
		
		Scanner sc = new Scanner(System.in);
		System.out.println("Veuillez entrer le chemin complet du fichier à dézipper :");
		String str = sc.nextLine();	
		UnzipFile(str, "src");
		System.out.println("Veuillez entrer le nom du fichier à compiler:");
		String str2 = sc.nextLine();	
		CompileFile(str2);
	}
	
	public static void UnzipFile(String zipFileName, String destinationUnzipedFile) throws Exception{
		
		String[] cmd = {"unzip", zipFileName, "-d", destinationUnzipedFile};
		
		File f = new File(zipFileName);
		System.out.println(f.exists());
		
		try {
				Runtime r = Runtime.getRuntime();
				Process p = r.exec(cmd);
				p.waitFor();
		                
			}catch(Exception e) {
				System.out.println("erreur d'execution " + cmd + e.toString());
			}
	}
	
public static void CompileFile(String FileToCompileName) throws Exception{
		String FileToCompileCompleteName = FileToCompileName + ".java";
		String[] cmd = {"javac", FileToCompileCompleteName};
		
		File f = new File(FileToCompileCompleteName);
		System.out.println(f.exists()+ "2");
		
		try {
				Runtime r = Runtime.getRuntime();
				Process p = r.exec(cmd);
				p.waitFor();
		                
			}catch(Exception e) {
				System.out.println("erreur d'execution " + cmd + e.toString());
			}
		File f2 = new File (FileToCompileName + ".class");

		System.out.println("Compilation ?"+ f2.exists());

	}
}
